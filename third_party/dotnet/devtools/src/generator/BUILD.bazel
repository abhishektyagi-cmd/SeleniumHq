load("@rules_dotnet//dotnet:defs.bzl", "csharp_binary", "csharp_library")
load("//dotnet:defs.bzl", "DEFAULT_FRAMEWORKS", "framework")

csharp_binary(
    name = "generator",
    srcs = glob(["**/*.cs"]),
    runtime_identifier = select({
        "//common:macos": "osx.12-arm64",
        "//common:linux": "linux-x64",
        "//common:windows": "win10-x64",
    }),
    target_frameworks = DEFAULT_FRAMEWORKS,
    deps = [
        framework("CommandLineParser"),
        framework("Handlebars.Net"),
        framework("Humanizer.Core"),
        framework("Microsoft.CSharp"),
        framework("Microsoft.Extensions.DependencyInjection"),
        framework("Microsoft.Extensions.DependencyInjection.Abstractions"),
        framework("Microsoft.NETCore.App.Ref"),
        framework("Newtonsoft.Json"),
        framework("System.Runtime"),
    ],
)
